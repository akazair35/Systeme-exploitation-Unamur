#include <stdio.h>
#include <unistd.h>
#include <sys/wait.h>
#include <sys/types.h>
#include <time.h>


int main ( )
{
    pid_t p=1 , child_pid = 0;
    int number;
    
    for(int i=0 ; i<4 ; i++){
        if (p>0) p=fork( ) ;
        if(p<0) exit(1) ;
    }
    
    if (p==0) {
        srand(time(NULL));
        number=rand()%100;
        printf("on est dan le fils : son pid est %d \n son pere est %d\n son numÃ©ro est %d \n\n ",getpid(),getppid(),number);
        child_pid=getpid();
    }else{
        wait(NULL) ;
        printf("dans le pere\n son pid est %d \nle pid du fils est %d\n",getpid(),child_pid);
    }
    
    return 0 ;
}
